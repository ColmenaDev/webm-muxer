"use strict";var WebMMuxer=(()=>{var bt=Object.defineProperty;var we=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames,qt=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var b=Math.pow,Gt=(a,e,i)=>e in a?bt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,Qt=(a,e)=>{for(var i in e||={})Lt.call(e,i)&&Gt(a,i,e[i]);if(qt)for(var i of qt(e))ge.call(e,i)&&Gt(a,i,e[i]);return a};var Ce=(a,e)=>{for(var i in e)bt(a,i,{get:e[i],enumerable:!0})},ke=(a,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ye(e))!Lt.call(a,r)&&r!==i&&bt(a,r,{get:()=>e[r],enumerable:!(s=we(e,r))||s.enumerable});return a};var xe=a=>ke(bt({},"__esModule",{value:!0}),a);var Nt=(a,e,i)=>{if(!e.has(a))throw TypeError("Cannot "+i)};var t=(a,e,i)=>(Nt(a,e,"read from private field"),i?i.call(a):e.get(a)),h=(a,e,i)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,i)},u=(a,e,i,s)=>(Nt(a,e,"write to private field"),s?s.call(a,i):e.set(a,i),i);var l=(a,e,i)=>(Nt(a,e,"access private method"),i);var De={};Ce(De,{default:()=>Ve});var v=class{constructor(e){this.value=e}},V=class{constructor(e){this.value=e}};var vt=a=>a<1<<8?1:a<1<<16?2:a<1<<24?3:a<b(2,32)?4:a<b(2,40)?5:6,jt=a=>{if(a<(1<<7)-1)return 1;if(a<(1<<14)-1)return 2;if(a<(1<<21)-1)return 3;if(a<(1<<28)-1)return 4;if(a<b(2,35)-1)return 5;if(a<b(2,42)-1)return 6;throw new Error("EBML VINT size not supported "+a)};var g,m,pt,Jt,wt,It,yt,te,st,Ot,gt,ee,tt=class{constructor(){h(this,pt);h(this,wt);h(this,yt);h(this,st);h(this,gt);this.pos=0;this.offsets=new WeakMap;this.dataOffsets=new WeakMap;h(this,g,new Uint8Array(8));h(this,m,new DataView(t(this,g).buffer))}seek(e){this.pos=e}writeEBMLVarInt(e,i=jt(e)){let s=0;switch(i){case 1:t(this,m).setUint8(s++,1<<7|e);break;case 2:t(this,m).setUint8(s++,1<<6|e>>8),t(this,m).setUint8(s++,e);break;case 3:t(this,m).setUint8(s++,1<<5|e>>16),t(this,m).setUint8(s++,e>>8),t(this,m).setUint8(s++,e);break;case 4:t(this,m).setUint8(s++,1<<4|e>>24),t(this,m).setUint8(s++,e>>16),t(this,m).setUint8(s++,e>>8),t(this,m).setUint8(s++,e);break;case 5:t(this,m).setUint8(s++,1<<3|e/b(2,32)&7),t(this,m).setUint8(s++,e>>24),t(this,m).setUint8(s++,e>>16),t(this,m).setUint8(s++,e>>8),t(this,m).setUint8(s++,e);break;case 6:t(this,m).setUint8(s++,1<<2|e/b(2,40)&3),t(this,m).setUint8(s++,e/b(2,32)|0),t(this,m).setUint8(s++,e>>24),t(this,m).setUint8(s++,e>>16),t(this,m).setUint8(s++,e>>8),t(this,m).setUint8(s++,e);break;default:throw new Error("Bad EBML VINT size "+i)}this.write(t(this,g).subarray(0,s))}writeEBML(e){var i,s;if(e!==null)if(e instanceof Uint8Array)this.write(e);else if(Array.isArray(e))for(let r of e)this.writeEBML(r);else if(this.offsets.set(e,this.pos),l(this,st,Ot).call(this,e.id),Array.isArray(e.data)){let r=this.pos,n=e.size===-1?1:(i=e.size)!=null?i:4;e.size===-1?l(this,pt,Jt).call(this,255):this.seek(this.pos+n);let f=this.pos;if(this.dataOffsets.set(e,f),this.writeEBML(e.data),e.size!==-1){let c=this.pos-f,I=this.pos;this.seek(r),this.writeEBMLVarInt(c,n),this.seek(I)}}else if(typeof e.data=="number"){let r=(s=e.size)!=null?s:vt(e.data);this.writeEBMLVarInt(r),l(this,st,Ot).call(this,e.data,r)}else typeof e.data=="string"?(this.writeEBMLVarInt(e.data.length),l(this,gt,ee).call(this,e.data)):e.data instanceof Uint8Array?(this.writeEBMLVarInt(e.data.byteLength,e.size),this.write(e.data)):e.data instanceof v?(this.writeEBMLVarInt(4),l(this,wt,It).call(this,e.data.value)):e.data instanceof V&&(this.writeEBMLVarInt(8),l(this,yt,te).call(this,e.data.value))}};g=new WeakMap,m=new WeakMap,pt=new WeakSet,Jt=function(e){t(this,m).setUint8(0,e),this.write(t(this,g).subarray(0,1))},wt=new WeakSet,It=function(e){t(this,m).setFloat32(0,e,!1),this.write(t(this,g).subarray(0,4))},yt=new WeakSet,te=function(e){t(this,m).setFloat64(0,e,!1),this.write(t(this,g))},st=new WeakSet,Ot=function(e,i=vt(e)){let s=0;switch(i){case 6:t(this,m).setUint8(s++,e/b(2,40)|0);case 5:t(this,m).setUint8(s++,e/b(2,32)|0);case 4:t(this,m).setUint8(s++,e>>24);case 3:t(this,m).setUint8(s++,e>>16);case 2:t(this,m).setUint8(s++,e>>8);case 1:t(this,m).setUint8(s++,e);break;default:throw new Error("Bad UINT size "+i)}this.write(t(this,g).subarray(0,s))},gt=new WeakSet,ee=function(e){this.write(new Uint8Array(e.split("").map(i=>i.charCodeAt(0))))};var U,H,et=class extends tt{constructor(){super();h(this,U,new ArrayBuffer(b(2,16)));h(this,H,new Uint8Array(t(this,U)))}ensureSize(i){let s=t(this,U).byteLength;for(;s<i;)s*=2;if(s===t(this,U).byteLength)return;let r=new ArrayBuffer(s),n=new Uint8Array(r);n.set(t(this,H),0),u(this,U,r),u(this,H,n)}write(i){this.ensureSize(this.pos+i.byteLength),t(this,H).set(i,this.pos),this.pos+=i.byteLength}finalize(){return this.ensureSize(this.pos),t(this,U).slice(0,this.pos)}};U=new WeakMap,H=new WeakMap;var O=b(2,24),Te=2,rt,p,it=class extends tt{constructor(i){super();h(this,rt,void 0);h(this,p,[]);u(this,rt,i)}write(i){this.writeDataIntoChunks(i,this.pos),this.flushChunks(),this.pos+=i.byteLength}writeDataIntoChunks(i,s){let r=t(this,p).findIndex(N=>N.start<=s&&s<N.start+O);r===-1&&(r=this.createChunk(s));let n=t(this,p)[r],f=s-n.start,c=i.subarray(0,Math.min(O-f,i.byteLength));n.data.set(c,f);let I={start:f,end:f+c.byteLength};if(Ue(n,I),n.written[0].start===0&&n.written[0].end===O&&(n.shouldFlush=!0),t(this,p).length>Te){for(let N=0;N<t(this,p).length-1;N++)t(this,p)[N].shouldFlush=!0;this.flushChunks()}c.byteLength<i.byteLength&&this.writeDataIntoChunks(i.subarray(c.byteLength),s+c.byteLength)}createChunk(i){let r={start:Math.floor(i/O)*O,data:new Uint8Array(O),written:[],shouldFlush:!1};return t(this,p).push(r),t(this,p).sort((n,f)=>n.start-f.start),t(this,p).indexOf(r)}flushChunks(i=!1){for(let s=0;s<t(this,p).length;s++){let r=t(this,p)[s];if(!(!r.shouldFlush&&!i)){for(let n of r.written)t(this,rt).write({type:"write",data:r.data.subarray(n.start,n.end),position:r.start+n.start});t(this,p).splice(s--,1)}}}finalize(){this.flushChunks(!0)}};rt=new WeakMap,p=new WeakMap;var Ue=(a,e)=>{let i=0,s=a.written.length-1,r=-1;for(;i<=s;){let n=Math.floor(i+(s-i+1)/2);a.written[n].start<=e.start?(i=n+1,r=n):s=n-1}for(a.written.splice(r+1,0,e),(r===-1||a.written[r].end<e.start)&&r++;r<a.written.length-1&&a.written[r].end>=a.written[r+1].start;)a.written[r].end=Math.max(a.written[r].end,a.written[r+1].end),a.written.splice(r+1,1)},A,at,nt,ht,W=class extends tt{constructor(i,s){super();h(this,A,[]);h(this,at,void 0);h(this,nt,0);h(this,ht,void 0);u(this,at,i),u(this,ht,s)}write(i){t(this,A).push({data:i.slice(),start:this.pos}),this.pos+=i.byteLength}flush(i){if(t(this,A).length===0)return;let s=[],r=[...t(this,A)].sort((n,f)=>n.start-f.start);s.push({start:r[0].start,size:r[0].data.byteLength});for(let n=1;n<r.length;n++){let f=s[s.length-1],c=r[n];c.start<=f.start+f.size?f.size=Math.max(f.size,c.start+c.data.byteLength-f.start):s.push({start:c.start,size:c.data.byteLength})}for(let n of s){n.data=new Uint8Array(n.size);for(let c of t(this,A))n.start<=c.start&&c.start<n.start+n.size&&n.data.set(c.data,c.start-n.start);if(t(this,ht)&&n.start<t(this,nt))throw new Error("Internal error: Monotonicity violation.");let f=i&&n===s[s.length-1];t(this,at).call(this,n.data,n.start,f),u(this,nt,n.start+n.data.byteLength)}t(this,A).length=0}};A=new WeakMap,at=new WeakMap,nt=new WeakMap,ht=new WeakMap;var F=1,Ct=2,Ae=1,Se=2,Ht=b(2,15),kt=b(2,12),ie="https://github.com/Vanilagy/webm-muxer",se=6,re=5,ze=["strict","offset","permissive"],o,d,B,Y,w,P,E,S,R,C,_,y,M,Z,k,x,X,q,G,L,Q,ot,Ut,ae,At,ne,St,he,zt,oe,Vt,le,Ft,de,Dt,fe,lt,Kt,dt,$t,Pt,ue,j,xt,z,$,Et,me,Rt,ce,ft,Bt,_t,be,T,D,J,Tt,ut,Yt,Mt,pe,mt,Zt,ct,Xt,Wt=class{constructor(e){h(this,Ut);h(this,At);h(this,St);h(this,zt);h(this,Vt);h(this,Ft);h(this,Dt);h(this,lt);h(this,dt);h(this,Pt);h(this,j);h(this,z);h(this,Et);h(this,Rt);h(this,ft);h(this,_t);h(this,T);h(this,J);h(this,ut);h(this,Mt);h(this,mt);h(this,ct);h(this,o,void 0);h(this,d,void 0);h(this,B,void 0);h(this,Y,void 0);h(this,w,void 0);h(this,P,void 0);h(this,E,void 0);h(this,S,void 0);h(this,R,void 0);h(this,C,void 0);h(this,_,void 0);h(this,y,void 0);h(this,M,void 0);h(this,Z,0);h(this,k,[]);h(this,x,[]);h(this,X,void 0);h(this,q,void 0);h(this,G,-1);h(this,L,-1);h(this,Q,void 0);h(this,ot,!1);if(l(this,Ut,ae).call(this,e),u(this,d,Qt({type:"webm",firstTimestampBehavior:"strict"},e)),e.target==="buffer")u(this,o,new et);else if(e.target instanceof FileSystemWritableFileStream)u(this,o,new it(e.target));else if(typeof e.target=="function")u(this,o,new W(e.target,!!e.streaming));else throw new Error(`Invalid target: ${e.target}`);l(this,At,ne).call(this)}addVideoChunk(e,i,s){let r=new Uint8Array(e.byteLength);e.copyTo(r),this.addVideoChunkRaw(r,e.type,s!=null?s:e.timestamp,i)}addVideoChunkRaw(e,i,s,r){if(l(this,ct,Xt).call(this),!t(this,d).video)throw new Error("No video track declared.");t(this,X)===void 0&&u(this,X,s),r&&l(this,Et,me).call(this,r);let n=l(this,ft,Bt).call(this,e,i,s,F);for(t(this,d).video.codec==="V_VP9"&&l(this,Rt,ce).call(this,n),u(this,G,n.timestamp);t(this,x).length>0&&t(this,x)[0].timestamp<=n.timestamp;){let f=t(this,x).shift();l(this,T,D).call(this,f)}!t(this,d).audio||n.timestamp<=t(this,L)?l(this,T,D).call(this,n):t(this,k).push(n),l(this,j,xt).call(this)}addAudioChunk(e,i,s){let r=new Uint8Array(e.byteLength);e.copyTo(r),this.addAudioChunkRaw(r,e.type,s!=null?s:e.timestamp,i)}addAudioChunkRaw(e,i,s,r){if(l(this,ct,Xt).call(this),!t(this,d).audio)throw new Error("No audio track declared.");t(this,q)===void 0&&u(this,q,s),r!=null&&r.decoderConfig&&(t(this,d).streaming?u(this,C,l(this,J,Tt).call(this,r.decoderConfig.description)):l(this,ut,Yt).call(this,t(this,C),r.decoderConfig.description));let n=l(this,ft,Bt).call(this,e,i,s,Ct);for(u(this,L,n.timestamp);t(this,k).length>0&&t(this,k)[0].timestamp<=n.timestamp;){let f=t(this,k).shift();l(this,T,D).call(this,f)}!t(this,d).video||n.timestamp<=t(this,G)?l(this,T,D).call(this,n):t(this,x).push(n),l(this,j,xt).call(this)}finalize(){for(;t(this,k).length>0;)l(this,T,D).call(this,t(this,k).shift());for(;t(this,x).length>0;)l(this,T,D).call(this,t(this,x).shift());if(t(this,d).streaming||l(this,mt,Zt).call(this),t(this,o).writeEBML(t(this,_)),!t(this,d).streaming){let e=t(this,o).pos,i=t(this,o).pos-t(this,z,$);t(this,o).seek(t(this,o).offsets.get(t(this,B))+4),t(this,o).writeEBMLVarInt(i,se),t(this,E).data=new V(t(this,Z)),t(this,o).seek(t(this,o).offsets.get(t(this,E))),t(this,o).writeEBML(t(this,E)),t(this,w).data[0].data[1].data=t(this,o).offsets.get(t(this,_))-t(this,z,$),t(this,w).data[1].data[1].data=t(this,o).offsets.get(t(this,Y))-t(this,z,$),t(this,w).data[2].data[1].data=t(this,o).offsets.get(t(this,P))-t(this,z,$),t(this,o).seek(t(this,o).offsets.get(t(this,w))),t(this,o).writeEBML(t(this,w)),t(this,o).seek(e)}return u(this,ot,!0),t(this,o)instanceof et?t(this,o).finalize():(t(this,o)instanceof it?t(this,o).finalize():t(this,o)instanceof W&&t(this,o).flush(!0),null)}};o=new WeakMap,d=new WeakMap,B=new WeakMap,Y=new WeakMap,w=new WeakMap,P=new WeakMap,E=new WeakMap,S=new WeakMap,R=new WeakMap,C=new WeakMap,_=new WeakMap,y=new WeakMap,M=new WeakMap,Z=new WeakMap,k=new WeakMap,x=new WeakMap,X=new WeakMap,q=new WeakMap,G=new WeakMap,L=new WeakMap,Q=new WeakMap,ot=new WeakMap,Ut=new WeakSet,ae=function(e){if(e.type&&e.type!=="webm"&&e.type!=="matroska")throw new Error(`Invalid type: ${e.type}`);if(e.firstTimestampBehavior&&!ze.includes(e.firstTimestampBehavior))throw new Error(`Invalid first timestamp behavior: ${e.firstTimestampBehavior}`)},At=new WeakSet,ne=function(){l(this,St,he).call(this),t(this,d).streaming||l(this,Ft,de).call(this),l(this,Dt,fe).call(this),l(this,zt,oe).call(this),l(this,Vt,le).call(this),t(this,d).streaming||(l(this,lt,Kt).call(this),l(this,dt,$t).call(this)),l(this,Pt,ue).call(this),l(this,j,xt).call(this)},St=new WeakSet,he=function(){var i;let e={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:(i=t(this,d).type)!=null?i:"webm"},{id:17031,data:2},{id:17029,data:2}]};t(this,o).writeEBML(e)},zt=new WeakSet,oe=function(){u(this,R,{id:236,size:4,data:new Uint8Array(kt)}),u(this,C,{id:236,size:4,data:new Uint8Array(kt)})},Vt=new WeakSet,le=function(){u(this,S,{id:21936,data:[{id:21937,data:2},{id:21946,data:2},{id:21947,data:2},{id:21945,data:0}]})},Ft=new WeakSet,de=function(){let e=new Uint8Array([28,83,187,107]),i=new Uint8Array([21,73,169,102]),s=new Uint8Array([22,84,174,107]),r={id:290298740,data:[{id:19899,data:[{id:21419,data:e},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:i},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:s},{id:21420,size:5,data:0}]}]};u(this,w,r)},Dt=new WeakSet,fe=function(){let e={id:17545,data:new V(0)};u(this,E,e);let i={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:ie},{id:22337,data:ie},t(this,d).streaming?null:e]};u(this,Y,i)},lt=new WeakSet,Kt=function(){let e={id:374648427,data:[]};u(this,P,e),t(this,d).video&&e.data.push({id:174,data:[{id:215,data:F},{id:29637,data:F},{id:131,data:Ae},{id:134,data:t(this,d).video.codec},t(this,R),t(this,d).video.frameRate?{id:2352003,data:1e9/t(this,d).video.frameRate}:null,{id:224,data:[{id:176,data:t(this,d).video.width},{id:186,data:t(this,d).video.height},t(this,d).video.alpha?{id:21440,data:1}:null,t(this,S)]}]}),t(this,d).audio&&(u(this,C,t(this,d).streaming?t(this,C)||null:{id:236,size:4,data:new Uint8Array(kt)}),e.data.push({id:174,data:[{id:215,data:Ct},{id:29637,data:Ct},{id:131,data:Se},{id:134,data:t(this,d).audio.codec},t(this,C),{id:225,data:[{id:181,data:new v(t(this,d).audio.sampleRate)},{id:159,data:t(this,d).audio.numberOfChannels},t(this,d).audio.bitDepth?{id:25188,data:t(this,d).audio.bitDepth}:null]}]}))},dt=new WeakSet,$t=function(){let e={id:408125543,size:t(this,d).streaming?-1:se,data:[t(this,d).streaming?null:t(this,w),t(this,Y),t(this,P)]};u(this,B,e),t(this,o).writeEBML(e)},Pt=new WeakSet,ue=function(){u(this,_,{id:475249515,data:[]})},j=new WeakSet,xt=function(){t(this,o)instanceof W&&t(this,o).flush(!1)},z=new WeakSet,$=function(){return t(this,o).dataOffsets.get(t(this,B))},Et=new WeakSet,me=function(e){if(!!e.decoderConfig){if(e.decoderConfig.colorSpace){let i=e.decoderConfig.colorSpace;if(u(this,Q,i),t(this,S).data=[{id:21937,data:{rgb:1,bt709:1,bt470bg:5,smpte170m:6}[i.matrix]},{id:21946,data:{bt709:1,smpte170m:6,"iec61966-2-1":13}[i.transfer]},{id:21947,data:{bt709:1,bt470bg:5,smpte170m:6}[i.primaries]},{id:21945,data:[1,2][Number(i.fullRange)]}],!t(this,d).streaming){let s=t(this,o).pos;t(this,o).seek(t(this,o).offsets.get(t(this,S))),t(this,o).writeEBML(t(this,S)),t(this,o).seek(s)}}e.decoderConfig.description&&(t(this,d).streaming?u(this,R,l(this,J,Tt).call(this,e.decoderConfig.description)):l(this,ut,Yt).call(this,t(this,R),e.decoderConfig.description))}},Rt=new WeakSet,ce=function(e){if(e.type!=="key"||!t(this,Q))return;let i=0;if(K(e.data,0,2)!==2)return;i+=2;let s=(K(e.data,i+1,i+2)<<1)+K(e.data,i+0,i+1);i+=2,s===3&&i++;let r=K(e.data,i+0,i+1);if(i++,r)return;let n=K(e.data,i+0,i+1);if(i++,n!==0)return;i+=2;let f=K(e.data,i+0,i+24);if(i+=24,f!==4817730)return;s>=2&&i++;let c={rgb:7,bt709:2,bt470bg:1,smpte170m:3}[t(this,Q).matrix];Fe(e.data,i+0,i+3,c)},ft=new WeakSet,Bt=function(e,i,s,r){let n=l(this,_t,be).call(this,s,r);return{data:e,type:i,timestamp:n,trackNumber:r}},_t=new WeakSet,be=function(e,i){let s=i===F?t(this,X):t(this,q),r=i===F?t(this,G):t(this,L);if(t(this,d).firstTimestampBehavior==="strict"&&r===-1&&e!==0)throw new Error(`The first chunk for your media track must have a timestamp of 0 (received ${e}). Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of the document, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
If you want to allow non-zero first timestamps, set firstTimestampBehavior: 'permissive'.
`);if(t(this,d).firstTimestampBehavior==="offset"&&(e-=s),e<r)throw new Error(`Timestamps must be monotonically increasing (went from ${r} to ${e}).`);return e},T=new WeakSet,D=function(e){t(this,d).streaming&&!t(this,P)&&(l(this,lt,Kt).call(this),l(this,dt,$t).call(this));let i=Math.floor(e.timestamp/1e3);if(e.type!=="key"&&i-t(this,M)>=Ht)throw new Error(`Current Matroska cluster exceeded its maximum allowed length of ${Ht} milliseconds. In order to produce a correct WebM file, you must pass in a video key frame at least every ${Ht} milliseconds.`);let r=(e.trackNumber===F||!t(this,d).video)&&e.type==="key"&&i-t(this,M)>=1e3;(!t(this,y)||r)&&l(this,Mt,pe).call(this,i);let n=new Uint8Array(4),f=new DataView(n.buffer);f.setUint8(0,128|e.trackNumber),f.setUint16(1,i-t(this,M),!1),f.setUint8(3,Number(e.type==="key")<<7);let c={id:163,data:[n,e.data]};t(this,o).writeEBML(c),u(this,Z,Math.max(t(this,Z),i))},J=new WeakSet,Tt=function(e){return{id:25506,size:4,data:new Uint8Array(e)}},ut=new WeakSet,Yt=function(e,i){let s=t(this,o).pos;t(this,o).seek(t(this,o).offsets.get(e)),e=[l(this,J,Tt).call(this,i),{id:236,size:4,data:new Uint8Array(kt-2-4-i.byteLength)}],t(this,o).writeEBML(e),t(this,o).seek(s)},Mt=new WeakSet,pe=function(e){t(this,y)&&!t(this,d).streaming&&l(this,mt,Zt).call(this),u(this,y,{id:524531317,size:t(this,d).streaming?-1:re,data:[{id:231,data:e}]}),t(this,o).writeEBML(t(this,y)),u(this,M,e);let i=t(this,o).offsets.get(t(this,y))-t(this,z,$);t(this,_).data.push({id:187,data:[{id:179,data:e},t(this,d).video?{id:183,data:[{id:247,data:F},{id:241,data:i}]}:null,t(this,d).audio?{id:183,data:[{id:247,data:Ct},{id:241,data:i}]}:null]})},mt=new WeakSet,Zt=function(){let e=t(this,o).pos-t(this,o).dataOffsets.get(t(this,y)),i=t(this,o).pos;t(this,o).seek(t(this,o).offsets.get(t(this,y))+4),t(this,o).writeEBMLVarInt(e,re),t(this,o).seek(i)},ct=new WeakSet,Xt=function(){if(t(this,ot))throw new Error("Cannot add new video or audio chunks after the file has been finalized.")};var Ve=Wt,K=(a,e,i)=>{let s=0;for(let r=e;r<i;r++){let n=Math.floor(r/8),f=a[n],c=7-(r&7),I=(f&1<<c)>>c;s<<=1,s|=I}return s},Fe=(a,e,i,s)=>{for(let r=e;r<i;r++){let n=Math.floor(r/8),f=a[n],c=7-(r&7);f&=~(1<<c),f|=(s&1<<i-r-1)>>i-r-1<<c,a[n]=f}};return xe(De);})();
WebMMuxer = WebMMuxer.default;
if (typeof module === "object" && typeof module.exports === "object") module.exports = WebMMuxer;
